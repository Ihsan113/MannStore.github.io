<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cetak Struk Orderan - RizShop</title>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
    <style>
        body {
            font-family: 'Poppins', sans-serif;
            background-color: #ffffff; /* Changed to white for better printing */
            color: #000000; /* Black text for better contrast */
            margin: 0;
            padding: 20px;
            text-align: center;
        }

        h1 {
            font-size: 28px;
            margin-bottom: 20px;
            text-shadow: none; /* Removed shadow for print */
        }

        .form-container {
            margin-bottom: 20px;
        }

        input[type="text"] {
            padding: 12px;
            border-radius: 5px;
            border: 2px solid #000000; /* Black border */
            width: 320px;
            background-color: #f0f0f0; /* Light gray background */
            color: #000;
            outline: none;
            font-size: 16px;
            transition: border-color 0.3s;
        }

        input[type="text"]:focus {
            border-color: #444444; /* Darker border on focus */
        }

        button {
            padding: 12px 20px;
            border-radius: 5px;
            border: none;
            background-color: #4CAF50;
            color: #fff;
            cursor: pointer;
            transition: background-color 0.3s, transform 0.2s;
            font-size: 16px;
        }

        button:hover {
            background-color: #45a049;
            transform: scale(1.05);
        }

        canvas {
            display: none; /* Hide the canvas element */
        }
    </style>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-firestore.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>
</head>
<body>
    <h1>Cetak Struk Orderan - AhsanStore</h1>

    <div class="form-container">
        <input type="text" id="orderId" placeholder="Masukkan Order ID...">
        <button onclick="generateReceipt()">Cetak Struk</button>
    </div>

    <canvas id="receiptCanvas" width="600" height="900"></canvas> <!-- Increased size for HD -->

    <script>
       const _0x474bfc=_0x237e;(function(_0xd40b38,_0xdfe4e3){const _0x425bab=_0x237e,_0x2dea3b=_0xd40b38();while(!![]){try{const _0x414a68=parseInt(_0x425bab(0x182))/0x1+-parseInt(_0x425bab(0x17e))/0x2+parseInt(_0x425bab(0x16a))/0x3*(-parseInt(_0x425bab(0x194))/0x4)+parseInt(_0x425bab(0x186))/0x5*(parseInt(_0x425bab(0x163))/0x6)+parseInt(_0x425bab(0x180))/0x7+-parseInt(_0x425bab(0x198))/0x8*(-parseInt(_0x425bab(0x17b))/0x9)+-parseInt(_0x425bab(0x16f))/0xa*(parseInt(_0x425bab(0x170))/0xb);if(_0x414a68===_0xdfe4e3)break;else _0x2dea3b['push'](_0x2dea3b['shift']());}catch(_0x4eb249){_0x2dea3b['push'](_0x2dea3b['shift']());}}}(_0x549c,0x7002d));function _0x549c(){const _0x588bb7=['Terima\x20Kasih\x20Telah\x20Berbelanja!','fillStyle','AIzaSyA1yk1tIBhP8a5VIDo62ZiN9kjD_tNhQ70','productName','getElementById','1:539021282370:web:6aa2f6bd176eee94ffb1db','get','178452jJfjHP','receiptCanvas','collection','1205476zndcvM','Kesalahan','5958736YYQKAd','image/png','93488mKhWkb','#4CAF50','24px\x20Poppins','Struk\x20berhasil\x20dihasilkan!','35ormYVl','#ffffff','fillRect','exists','font','click','createElement','Produk:\x20','fillText','Tutup','timestamp','paymentMethod','error','mannstore-50549.firebaseapp.com','40wlSlXM','Masukkan\x20Order\x20ID.','combinedId','Tanggal\x20Pesanan:\x20','80DEffzh','Order\x20ID\x20tidak\x20ditemukan.','mannstore-50549','clearRect','gameName','toDataURL','struk_order_AhsanStore.png','Order\x20ID:\x20','Unduh\x20Struk','Orders','firestore','Metode\x20Pembayaran:\x20','getContext','width','Nama\x20Game:\x20','success','mannstore-50549.appspot.com','phoneNumber','#000000','747906uVrXkU','N/A','toLocaleString','fire','height','539021282370','Sukses','265134uzweKz','20px\x20Poppins','download','AhsanStore','initializeApp','351290EGpYwb','22IUuWZw','G-40JZM8L3WY','toDate','16px\x20Poppins'];_0x549c=function(){return _0x588bb7;};return _0x549c();}const firebaseConfig={'apiKey':_0x474bfc(0x176),'authDomain':_0x474bfc(0x193),'projectId':_0x474bfc(0x19a),'storageBucket':_0x474bfc(0x160),'messagingSenderId':_0x474bfc(0x168),'appId':_0x474bfc(0x179),'measurementId':_0x474bfc(0x171)};firebase[_0x474bfc(0x16e)](firebaseConfig);const db=firebase[_0x474bfc(0x1a2)]();function _0x237e(_0x25a088,_0x43278a){const _0x549c8d=_0x549c();return _0x237e=function(_0x237ea2,_0xab5985){_0x237ea2=_0x237ea2-0x15d;let _0x166265=_0x549c8d[_0x237ea2];return _0x166265;},_0x237e(_0x25a088,_0x43278a);}async function generateReceipt(){const _0xf5c84b=_0x474bfc,_0x413e90=document[_0xf5c84b(0x178)]('orderId')['value']['trim']();if(_0x413e90===''){Swal[_0xf5c84b(0x166)]({'icon':_0xf5c84b(0x192),'title':_0xf5c84b(0x17f),'text':_0xf5c84b(0x195),'confirmButtonColor':_0xf5c84b(0x183)});return;}const _0x3ad13c=await db[_0xf5c84b(0x17d)](_0xf5c84b(0x1a1))['doc'](_0x413e90)[_0xf5c84b(0x17a)]();if(_0x3ad13c[_0xf5c84b(0x189)]){const _0x491f63=_0x3ad13c['data']();Swal[_0xf5c84b(0x166)]({'icon':_0xf5c84b(0x15f),'title':_0xf5c84b(0x169),'text':_0xf5c84b(0x185),'confirmButtonColor':'#4CAF50'}),drawReceipt(_0x491f63);}else Swal[_0xf5c84b(0x166)]({'icon':'error','title':_0xf5c84b(0x17f),'text':_0xf5c84b(0x199),'confirmButtonColor':_0xf5c84b(0x183)});}function drawReceipt(_0x490113){const _0x39c4ca=_0x474bfc,_0x5d5a5d=document[_0x39c4ca(0x178)](_0x39c4ca(0x17c)),_0x5d2a11=_0x5d5a5d[_0x39c4ca(0x1a4)]('2d');_0x5d2a11[_0x39c4ca(0x19b)](0x0,0x0,_0x5d5a5d[_0x39c4ca(0x15d)],_0x5d5a5d[_0x39c4ca(0x167)]),_0x5d2a11[_0x39c4ca(0x175)]=_0x39c4ca(0x187),_0x5d2a11[_0x39c4ca(0x188)](0x0,0x0,_0x5d5a5d[_0x39c4ca(0x15d)],_0x5d5a5d['height']),_0x5d2a11['fillStyle']='#000000',_0x5d2a11[_0x39c4ca(0x18a)]=_0x39c4ca(0x184),_0x5d2a11[_0x39c4ca(0x18e)](_0x39c4ca(0x16d),0x32,0x28),_0x5d2a11[_0x39c4ca(0x18a)]=_0x39c4ca(0x16b),_0x5d2a11['fillText']('Orderan\x20Berhasil',0x32,0x46),_0x5d2a11['fillStyle']=_0x39c4ca(0x162),_0x5d2a11[_0x39c4ca(0x188)](0x14,0x5a,0x230,0x2),_0x5d2a11[_0x39c4ca(0x175)]=_0x39c4ca(0x162),_0x5d2a11[_0x39c4ca(0x18a)]=_0x39c4ca(0x173),_0x5d2a11[_0x39c4ca(0x18e)](_0x39c4ca(0x19f)+_0x490113[_0x39c4ca(0x196)],0x32,0x78),_0x5d2a11['fillText'](_0x39c4ca(0x18d)+_0x490113[_0x39c4ca(0x177)],0x32,0x96),_0x5d2a11['fillText'](_0x39c4ca(0x15e)+(_0x490113[_0x39c4ca(0x19c)]||_0x39c4ca(0x164)),0x32,0xb4),_0x5d2a11[_0x39c4ca(0x18e)](_0x39c4ca(0x1a3)+_0x490113[_0x39c4ca(0x191)],0x32,0xd2),_0x5d2a11[_0x39c4ca(0x18e)]('Nomor\x20Telepon:\x20'+_0x490113[_0x39c4ca(0x161)],0x32,0xf0),_0x5d2a11[_0x39c4ca(0x18e)]('Status:\x20'+_0x490113['status'],0x32,0x10e),_0x5d2a11[_0x39c4ca(0x18e)](_0x39c4ca(0x197)+new Date(_0x490113[_0x39c4ca(0x190)][_0x39c4ca(0x172)]())[_0x39c4ca(0x165)](),0x32,0x12c),_0x5d2a11['fillRect'](0x14,0x14a,0x230,0x2),_0x5d2a11[_0x39c4ca(0x18e)](_0x39c4ca(0x174),0x32,0x168),Swal['fire']({'icon':_0x39c4ca(0x15f),'title':_0x39c4ca(0x169),'text':_0x39c4ca(0x185),'showCancelButton':!![],'confirmButtonColor':_0x39c4ca(0x183),'cancelButtonText':_0x39c4ca(0x18f),'confirmButtonText':_0x39c4ca(0x1a0),'preConfirm':()=>{const _0x3aec8f=_0x39c4ca,_0xbb3f67=document[_0x3aec8f(0x18c)]('a');_0xbb3f67[_0x3aec8f(0x16c)]=_0x3aec8f(0x19e),_0xbb3f67['href']=_0x5d5a5d[_0x3aec8f(0x19d)](_0x3aec8f(0x181),0x1),_0xbb3f67[_0x3aec8f(0x18b)]();}});}
    </script>
</body>
</html>
