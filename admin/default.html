<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Uang Masuk</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <script src="https://cdn.jsdelivr.net/npm/apexcharts"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-firestore.js"></script>
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #181818;
            color: #f4f4f4;
            margin: 0;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        main {
            padding: 20px;
            flex: 1;
        }

        h2 {
            font-weight: 500;
            margin-bottom: 20px;
            color: #00d1b2;
        }

        table {
            width: 100%;
            border-collapse: collapse;
            margin-top: 20px;
            box-shadow: 0 2px 10px rgba(0, 0, 0, 0.1);
        }

        th, td {
            padding: 12px;
            border: 1px solid #ddd;
            text-align: left;
            color: #f4f4f4;
        }

        th {
            background-color: #00d1b2;
            color: white;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        tr:hover {
            background-color: #333;
        }

        .total-container {
            margin-top: 20px;
            font-size: 18px;
            font-weight: bold;
            color: #00d1b2;
        }

        .chart-container {
            display: flex;
            justify-content: space-between;
            flex-wrap: wrap;
            margin-top: 40px;
        }

        @media (max-width: 768px) {
            table {
                font-size: 14px;
            }

            h2 {
                font-size: 24px;
            }

            button, select {
                width: 100%;
            }

            .chart-container {
                flex-direction: column;
            }
        }
    </style>
</head>
<body>
    <main>
        <h2>Uang Masuk - Pesanan Selesai</h2>
        <div id="orderListContainer">
            <table id="orderTable">
                <thead>
                    <tr>
                        <th>Order ID</th>
                        <th>Nama Produk</th>
                        <th>Harga Produk</th>
                        <th>Metode Pembayaran</th>
                    </tr>
                </thead>
                <tbody id="orderTableBody">
                    <!-- Data pesanan akan dimuat di sini -->
                </tbody>
            </table>
            <div class="total-container">
                Total Uang Masuk: Rp <span id="totalAmount">0</span>
            </div>
        </div>

        <!-- Container untuk dua grafik -->
        <div class="chart-container">
            <div id="incomeChart" style="width: 100%; height: 350px;"></div>
            <div id="bestSellingChart" style="width: 100%; height: 350px;"></div>
        </div>
    </main>

<script>
   const _0xcb162d=_0x38ac;(function(_0x1c31e9,_0x690826){const _0x27b9c6=_0x38ac,_0x2bd9a3=_0x1c31e9();while(!![]){try{const _0x5551f1=parseInt(_0x27b9c6(0xbd))/0x1*(-parseInt(_0x27b9c6(0xc2))/0x2)+parseInt(_0x27b9c6(0xad))/0x3+parseInt(_0x27b9c6(0xa7))/0x4+-parseInt(_0x27b9c6(0xa0))/0x5+parseInt(_0x27b9c6(0xb5))/0x6*(-parseInt(_0x27b9c6(0xba))/0x7)+parseInt(_0x27b9c6(0xb7))/0x8*(-parseInt(_0x27b9c6(0xb9))/0x9)+parseInt(_0x27b9c6(0xbf))/0xa;if(_0x5551f1===_0x690826)break;else _0x2bd9a3['push'](_0x2bd9a3['shift']());}catch(_0x1f2444){_0x2bd9a3['push'](_0x2bd9a3['shift']());}}}(_0x5812,0x91e7f));const firebaseConfig={'apiKey':_0xcb162d(0xc4),'authDomain':_0xcb162d(0xaf),'projectId':_0xcb162d(0x9b),'storageBucket':_0xcb162d(0xcb),'messagingSenderId':'539021282370','appId':_0xcb162d(0x9a),'measurementId':_0xcb162d(0xc7)},app=firebase[_0xcb162d(0xcc)](firebaseConfig),db=firebase[_0xcb162d(0xac)]();function _0x5812(){const _0x37958f=['2714716RajCBJ','productName','push','<tr><td\x20colspan=\x224\x22>Terjadi\x20kesalahan\x20saat\x20mengambil\x20data\x20pesanan.</td></tr>','Orders','firestore','2520867ujkTbf','dark','mannstore-50549.firebaseapp.com','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','catch','keys','Error\x20fetching\x20orders:\x20','pie','6RoyzDC','toLocaleString','90720yzPlAG','#FF9F40','171SwGbWW','2756383sJRiwc','#9966FF','paymentMethod','29elLDMZ','replace','8297710AKkKby','map','#FF6384','30166oDmJIa','#FFCE56','AIzaSyA1yk1tIBhP8a5VIDo62ZiN9kjD_tNhQ70','get','#f4f4f4','G-40JZM8L3WY','appendChild','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','then','mannstore-50549.appspot.com','initializeApp','id-ID','getElementById','textContent','data','#00D1B2','totalAmount','querySelector','1:539021282370:web:6aa2f6bd176eee94ffb1db','mannstore-50549','forEach','#36A2EB','collection','productPrice','3522360mDwXyo','innerHTML','createElement','render','#4BC0C0','Pendapatan\x20Produk','completed'];_0x5812=function(){return _0x37958f;};return _0x5812();}let orderDataArray=[],totalAmount=0x0,productSalesCount={};function fetchCompletedOrders(){const _0x11c895=_0xcb162d,_0x2ad27d=document[_0x11c895(0x94)]('orderTableBody');db[_0x11c895(0x9e)](_0x11c895(0xab))['where']('status','==',_0x11c895(0xa6))[_0x11c895(0xc5)]()[_0x11c895(0xca)](_0x2a0d43=>{const _0x410976=_0x11c895;_0x2ad27d[_0x410976(0xa1)]='',_0x2a0d43[_0x410976(0x9c)](_0xe66bc=>{const _0x385364=_0x410976,_0x1d9b3c=_0xe66bc[_0x385364(0x96)](),_0x2cae7d=parseFloat(_0x1d9b3c[_0x385364(0x9f)][_0x385364(0xbe)](/\./g,'')),_0x2a8434=document[_0x385364(0xa2)]('tr');_0x2a8434[_0x385364(0xa1)]=_0x385364(0xc9)+_0xe66bc['id']+_0x385364(0xb0)+_0x1d9b3c[_0x385364(0xa8)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>Rp\x20'+_0x2cae7d[_0x385364(0xb6)](_0x385364(0x93))+_0x385364(0xb0)+_0x1d9b3c[_0x385364(0xbc)]+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20',_0x2ad27d[_0x385364(0xc8)](_0x2a8434),totalAmount+=_0x2cae7d,orderDataArray[_0x385364(0xa9)]({'productName':_0x1d9b3c[_0x385364(0xa8)],'productPrice':_0x1d9b3c[_0x385364(0x9f)]}),productSalesCount[_0x1d9b3c[_0x385364(0xa8)]]=(productSalesCount[_0x1d9b3c[_0x385364(0xa8)]]||0x0)+0x1;}),document[_0x410976(0x94)](_0x410976(0x98))[_0x410976(0x95)]=totalAmount[_0x410976(0xb6)](_0x410976(0x93)),drawIncomeChart(),drawBestSellingChart();})[_0x11c895(0xb1)](_0x48b266=>{const _0x50f5a8=_0x11c895;console['error'](_0x50f5a8(0xb3),_0x48b266),_0x2ad27d[_0x50f5a8(0xa1)]=_0x50f5a8(0xaa);});}function drawIncomeChart(){const _0x5bec6b=_0xcb162d,_0x280df4=orderDataArray[_0x5bec6b(0xc0)](_0x4de3e7=>_0x4de3e7[_0x5bec6b(0xa8)]),_0xe4308c=orderDataArray[_0x5bec6b(0xc0)](_0x13812b=>parseFloat(_0x13812b[_0x5bec6b(0x9f)][_0x5bec6b(0xbe)](/\./g,''))),_0x4f748d={'chart':{'type':'bar','height':0x15e,'toolbar':{'show':![]}},'series':[{'name':_0x5bec6b(0xa5),'data':_0xe4308c}],'xaxis':{'categories':_0x280df4,'labels':{'style':{'colors':_0x5bec6b(0xc6)}}},'yaxis':{'labels':{'style':{'colors':'#f4f4f4'}}},'colors':[_0x5bec6b(0x97)],'dataLabels':{'enabled':![]},'grid':{'borderColor':'#444'},'tooltip':{'theme':_0x5bec6b(0xae)}},_0x18285d=new ApexCharts(document[_0x5bec6b(0x99)]('#incomeChart'),_0x4f748d);_0x18285d[_0x5bec6b(0xa3)]();}function drawBestSellingChart(){const _0x113c1c=_0xcb162d,_0x2a1f90=Object[_0x113c1c(0xb2)](productSalesCount),_0x41be93=Object['values'](productSalesCount),_0x1da913={'chart':{'type':_0x113c1c(0xb4),'height':0x15e,'toolbar':{'show':![]}},'series':_0x41be93,'labels':_0x2a1f90,'colors':[_0x113c1c(0xc1),_0x113c1c(0x9d),_0x113c1c(0xc3),_0x113c1c(0xa4),_0x113c1c(0xbb),_0x113c1c(0xb8)],'dataLabels':{'enabled':!![]},'tooltip':{'theme':_0x113c1c(0xae)}},_0x3fd167=new ApexCharts(document['querySelector']('#bestSellingChart'),_0x1da913);_0x3fd167[_0x113c1c(0xa3)]();}function _0x38ac(_0x222b49,_0x23de34){const _0x5812ca=_0x5812();return _0x38ac=function(_0x38ac4b,_0x2beb01){_0x38ac4b=_0x38ac4b-0x93;let _0xea076=_0x5812ca[_0x38ac4b];return _0xea076;},_0x38ac(_0x222b49,_0x23de34);}fetchCompletedOrders();
</script>

</body>
</html>

