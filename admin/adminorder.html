<!DOCTYPE html>
<html lang="en">
<head>
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/sweetalert2@11/dist/sweetalert2.min.css">
<script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Admin Panel - Informasi Pesanan</title>
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet">
    <style>
        body {
            font-family: 'Roboto', sans-serif;
            background-color: #f8f9fa;
            color: #333;
        }

        h2 {
            font-weight: 500;
            margin-bottom: 20px;
            color: #007bff;
        }

        table {
            margin-top: 20px;
        }

        th, td {
            padding: 12px;
            text-align: left;
        }

        th {
            background-color: #007bff;
            color: white;
            text-transform: uppercase;
            letter-spacing: 0.05em;
        }

        img {
            width: 50px;
            height: auto;
        }

        select, button {
            cursor: pointer;
        }

        .delete-all {
            margin-top: 20px;
        }

        @media (max-width: 768px) {
            table {
                font-size: 14px;
            }

            h2 {
                font-size: 24px;
            }
        }
    </style>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-firestore.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-storage.js"></script>
</head>
<body>
    <div class="container my-4">
        <h2>Informasi Pesanan</h2>
        <div class="table-responsive">
            <table class="table table-bordered table-hover">
               <thead>
    <tr>
        <th>Order ID</th>
        <th>Tanggal & Waktu</th>
        <th>Tujuan Pengguna</th>
        <th>Produk</th>
        <th>Nama Game</th>
        <th>Bukti Pembayaran</th>
        <th>Metode Pembayaran</th>
        <th>Nomor Telepon</th>
        <th>Status</th>
        <th>Aksi</th>
    </tr>
</thead>


                <tbody id="orderTableBody">
                    <!-- Data pesanan akan dimuat di sini -->
                </tbody>
            </table>
        </div>
        <button class="btn btn-danger delete-all" onclick="deleteAllOrders()">Hapus Semua Pesanan</button>
    </div>
   
   <script src="https://cdn.jsdelivr.net/npm/sweetalert2@11"></script>

<script>
   const _0x75f3da=_0x26ed;(function(_0x4cf7e6,_0x218506){const _0x4fc7d2=_0x26ed,_0x3040c0=_0x4cf7e6();while(!![]){try{const _0xd80db4=-parseInt(_0x4fc7d2(0xe8))/0x1+-parseInt(_0x4fc7d2(0xd8))/0x2+parseInt(_0x4fc7d2(0x103))/0x3+-parseInt(_0x4fc7d2(0xeb))/0x4+-parseInt(_0x4fc7d2(0xc8))/0x5+parseInt(_0x4fc7d2(0xc7))/0x6+-parseInt(_0x4fc7d2(0xfa))/0x7*(-parseInt(_0x4fc7d2(0xf1))/0x8);if(_0xd80db4===_0x218506)break;else _0x3040c0['push'](_0x3040c0['shift']());}catch(_0x884142){_0x3040c0['push'](_0x3040c0['shift']());}}}(_0x55cc,0x8efaf));function _0x26ed(_0x39fe57,_0x336b71){const _0x55cc56=_0x55cc();return _0x26ed=function(_0x26ed91,_0x3ba6a3){_0x26ed91=_0x26ed91-0xc6;let _0x50e427=_0x55cc56[_0x26ed91];return _0x50e427;},_0x26ed(_0x39fe57,_0x336b71);}const firebaseConfig={'apiKey':_0x75f3da(0xe7),'authDomain':_0x75f3da(0xc6),'projectId':_0x75f3da(0xde),'storageBucket':_0x75f3da(0xfe),'messagingSenderId':_0x75f3da(0x10d),'appId':_0x75f3da(0xd3),'measurementId':_0x75f3da(0xec)},app=firebase['initializeApp'](firebaseConfig),db=firebase[_0x75f3da(0x10a)](),storage=firebase[_0x75f3da(0x101)]();function fetchOrders(){const _0x369ab0=_0x75f3da,_0x47e527=document['getElementById'](_0x369ab0(0xcd)),_0x9eaec9=new Date();db['collection'](_0x369ab0(0xf9))[_0x369ab0(0xf4)]()[_0x369ab0(0xcb)](_0x6d3e80=>{const _0x515b39=_0x369ab0;_0x47e527[_0x515b39(0x114)]='',_0x6d3e80[_0x515b39(0x107)](_0x4fb963=>{const _0x23c039=_0x515b39,_0x1fdc3c=_0x4fb963[_0x23c039(0x110)](),_0x35b6bd=_0x1fdc3c[_0x23c039(0x113)]?_0x1fdc3c[_0x23c039(0x113)][_0x23c039(0x104)]():null,_0x30f639=_0x35b6bd?_0x35b6bd[_0x23c039(0xea)]('id-ID',{'year':_0x23c039(0xf0),'month':_0x23c039(0xe4),'day':_0x23c039(0xf0)})+'\x20pukul\x20'+_0x35b6bd['toLocaleTimeString']('id-ID',{'hour':_0x23c039(0xf0),'minute':_0x23c039(0xda),'second':_0x23c039(0xda),'hour12':![],'timeZone':'Asia/Jakarta'}):'N/A',_0x1f9c1b=_0x35b6bd&&_0x9eaec9-_0x35b6bd<0x3c*0x3c*0x3e8,_0x5bdc2d=document[_0x23c039(0xd5)]('tr');_0x5bdc2d[_0x23c039(0x114)]=_0x23c039(0xd2)+_0x4fb963['id']+_0x23c039(0xf2)+_0x30f639+'\x20'+(_0x1f9c1b?_0x23c039(0xd0):'')+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1fdc3c[_0x23c039(0xd6)]+_0x23c039(0xf2)+_0x1fdc3c[_0x23c039(0xfc)]+_0x23c039(0xcf)+_0x1fdc3c['productPrice']+'</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>'+_0x1fdc3c['gameName']+_0x23c039(0xf2)+(_0x1fdc3c[_0x23c039(0x109)]?_0x23c039(0xca)+_0x1fdc3c['paymentProof']+_0x23c039(0xd4):'Belum\x20ada\x20bukti\x20pembayaran')+_0x23c039(0xf2)+_0x1fdc3c['paymentMethod']+_0x23c039(0xf2)+_0x1fdc3c[_0x23c039(0xfb)]+_0x23c039(0x10f)+_0x4fb963['id']+_0x23c039(0xe9)+(_0x1fdc3c['status']===_0x23c039(0xdf)?'selected':'')+_0x23c039(0xcc)+(_0x1fdc3c[_0x23c039(0xdd)]===_0x23c039(0xe6)?'selected':'')+_0x23c039(0xd1)+(_0x1fdc3c['status']===_0x23c039(0x10b)?_0x23c039(0x105):'')+_0x23c039(0xf6)+(_0x1fdc3c[_0x23c039(0xdd)]==='completed'?_0x23c039(0x105):'')+_0x23c039(0xe2)+(_0x1fdc3c[_0x23c039(0xdd)]==='trouble'?'selected':'')+'>Gangguan</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</select>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td\x20class=\x22action-buttons\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<button\x20class=\x22btn\x20btn-danger\x20btn-sm\x22\x20onclick=\x22deleteOrder(\x27'+_0x4fb963['id']+_0x23c039(0xef)+(_0x1fdc3c[_0x23c039(0x109)]||'')+_0x23c039(0xc9),_0x47e527[_0x23c039(0xf3)](_0x5bdc2d);});})[_0x369ab0(0x10e)](_0x134c04=>{const _0xbee1b=_0x369ab0;console[_0xbee1b(0xe5)]('Error\x20fetching\x20orders:\x20',_0x134c04),_0x47e527[_0xbee1b(0x114)]=_0xbee1b(0xed);});}function _0x55cc(){const _0x33c661=['status','mannstore-50549','pending','Pesanan\x20berhasil\x20dihapus.','Status\x20Diubah!','>Selesai</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22trouble\x22\x20','Anda\x20yakin\x20ingin\x20menghapus?','long','error','confirmed','AIzaSyA1yk1tIBhP8a5VIDo62ZiN9kjD_tNhQ70','212021AuShpj','\x27,\x20this.value)\x22>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22pending\x22\x20','toLocaleDateString','658744TeVPwF','G-40JZM8L3WY','<tr><td\x20colspan=\x2211\x22>Terjadi\x20kesalahan\x20saat\x20mengambil\x20data\x20pesanan.</td></tr>','Error\x20deleting\x20payment\x20proof:\x20','\x27,\x20\x27','numeric','72FDftrh','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','appendChild','get','showLoading','>Ditolak</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22completed\x22\x20','question','isConfirmed','Orders','897841dfhAfM','phoneNumber','productName','delete','mannstore-50549.appspot.com','Batal','#d33','storage','update','1717359zFiQKO','toDate','selected','collection','forEach','Pesanan\x20dihapus!','paymentProof','firestore','rejected','fire','539021282370','catch','</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<select\x20class=\x22form-select\x22\x20onchange=\x22updateStatus(\x27','data','doc','Status\x20berhasil\x20diubah\x20menjadi\x20','timestamp','innerHTML','Anda\x20akan\x20mengubah\x20status\x20menjadi\x20\x22','mannstore-50549.firebaseapp.com','6684096yLePHQ','4327665aHSXWh','\x27)\x22>Hapus</button>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20</td>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','<img\x20src=\x22','then','>Pending</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22confirmed\x22\x20','orderTableBody','success','\x20-\x20Rp','<span\x20class=\x22badge\x20bg-success\x22>Baru</span>','>Dikonfirmasi</option>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<option\x20value=\x22rejected\x22\x20','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<td>','1:539021282370:web:6aa2f6bd176eee94ffb1db','\x22\x20alt=\x22Bukti\x20Pembayaran\x22>','createElement','combinedId','message','2025898tJzrEm','reload','2-digit','Data\x20tidak\x20dapat\x20dikembalikan\x20setelah\x20dihapus!','Terjadi\x20kesalahan'];_0x55cc=function(){return _0x33c661;};return _0x55cc();}fetchOrders();function deleteOrder(_0x247324,_0x3e9c93){const _0x3d8f72=_0x75f3da;Swal['fire']({'title':_0x3d8f72(0xe3),'text':_0x3d8f72(0xdb),'icon':'warning','showCancelButton':!![],'confirmButtonColor':'#3085d6','cancelButtonColor':_0x3d8f72(0x100),'confirmButtonText':'Ya,\x20hapus!','cancelButtonText':_0x3d8f72(0xff)})['then'](_0x55b487=>{const _0x5bd021=_0x3d8f72;if(_0x55b487[_0x5bd021(0xf8)]){if(_0x3e9c93){const _0x1695fe=storage['refFromURL'](_0x3e9c93);_0x1695fe[_0x5bd021(0xfd)]()[_0x5bd021(0xcb)](()=>{deleteOrderData(_0x247324);})[_0x5bd021(0x10e)](_0xfe9e59=>{const _0x200d66=_0x5bd021;console[_0x200d66(0xe5)](_0x200d66(0xee),_0xfe9e59),deleteOrderData(_0x247324);});}else deleteOrderData(_0x247324);}});}function deleteOrderData(_0x4a7103){const _0x5a1f46=_0x75f3da;db[_0x5a1f46(0x106)](_0x5a1f46(0xf9))[_0x5a1f46(0x111)](_0x4a7103)[_0x5a1f46(0xfd)]()['then'](()=>{const _0x17294d=_0x5a1f46;Swal['fire']({'title':_0x17294d(0x108),'text':_0x17294d(0xe0),'icon':_0x17294d(0xce),'timer':0x7d0,'timerProgressBar':!![],'didOpen':()=>{const _0x1daaf=_0x17294d;Swal[_0x1daaf(0xf5)]();},'willClose':()=>{const _0x26f3e7=_0x17294d;location[_0x26f3e7(0xd9)]();}});})[_0x5a1f46(0x10e)](_0x2c3882=>{const _0x53075c=_0x5a1f46;Swal['fire']({'title':_0x53075c(0xdc),'text':_0x2c3882[_0x53075c(0xd7)],'icon':_0x53075c(0xe5)});});}function updateStatus(_0x4aa108,_0x210d02){const _0x5988cc=_0x75f3da;Swal[_0x5988cc(0x10c)]({'title':'Apakah\x20Anda\x20yakin?','text':_0x5988cc(0x115)+_0x210d02+'\x22','icon':_0x5988cc(0xf7),'showCancelButton':!![],'confirmButtonText':'Ya,\x20ubah','cancelButtonText':_0x5988cc(0xff)})['then'](_0x520918=>{const _0x21650f=_0x5988cc;_0x520918['isConfirmed']&&db[_0x21650f(0x106)](_0x21650f(0xf9))[_0x21650f(0x111)](_0x4aa108)[_0x21650f(0x102)]({'status':_0x210d02})['then'](()=>{const _0x24e7d2=_0x21650f;Swal['fire']({'title':_0x24e7d2(0xe1),'text':_0x24e7d2(0x112)+_0x210d02+'.','icon':_0x24e7d2(0xce),'timer':0x5dc,'showConfirmButton':![],'timerProgressBar':!![],'willClose':()=>{const _0x7ac145=_0x24e7d2;location[_0x7ac145(0xd9)]();}});})[_0x21650f(0x10e)](_0xc8bf39=>{const _0x2f6540=_0x21650f;Swal[_0x2f6540(0x10c)]({'title':_0x2f6540(0xdc),'text':_0xc8bf39[_0x2f6540(0xd7)],'icon':'error'});});});}fetchOrders();
</script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script>
</body>
</html>
