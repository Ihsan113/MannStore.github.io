<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.css">
    <title>Struk Pembayaran dan Testimonial</title>
    <style>
        body {
            background-color: #f4f4f4;
            padding: 20px;
        }

        .receipt-container {
            background-color: #ffffff;
            border-radius: 10px;
            box-shadow: 0 4px 20px rgba(0, 0, 0, 0.1);
            padding: 20px;
            max-width: 600px;
            margin: 0 auto;
        }

        h1, h2 {
            text-align: center;
            color: #333;
            font-family: 'Arial', sans-serif;
            margin-bottom: 20px;
        }

        .receipt-details {
            margin-bottom: 20px;
            border-bottom: 2px solid #e0e0e0;
            padding-bottom: 20px;
        }

        .star-rating {
            display: flex;
            justify-content: center;
            margin-bottom: 20px;
        }

        .slider {
            -webkit-appearance: none;
            width: 100%;
            height: 5px;
            border-radius: 5px;
            background: #ddd;
            outline: none;
            opacity: 0.7;
            transition: opacity .2s;
        }

        .slider:hover {
            opacity: 1;
        }

        .slider::-webkit-slider-thumb {
            -webkit-appearance: none;
            appearance: none;
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #28a745;
            cursor: pointer;
        }

        .slider::-moz-range-thumb {
            width: 20px;
            height: 20px;
            border-radius: 50%;
            background: #28a745;
            cursor: pointer;
        }

        button {
            display: block;
            margin: 20px auto;
            padding: 10px 15px;
            font-size: 16px;
            color: #fff;
            background-color: #28a745;
            border: none;
            border-radius: 5px;
            cursor: pointer;
            transition: background-color 0.3s;
        }

        button:hover {
            background-color: #218838;
        }

        .form-control {
            margin-bottom: 10px;
        }
    </style>
</head>
<body>
    <div class="receipt-container">
        <!-- Bagian untuk menampilkan detail struk pembayaran -->
        <h1>Struk Pembayaran</h1>
        <div id="receiptDetails" class="receipt-details"></div>
        <p style="text-align: center; color: #555;">Pesanan sedang diproses secara manual. Mohon tunggu sekitar 1-5 menit.</p>
        <button id="printButton">Cetak Struk</button>
        
        <!-- Bagian untuk mengirimkan testimonial -->
        <h2>Komentar Anda</h2>
        <div class="form-group">
            <label for="phoneNumber">Nomor Telepon (Wajib)</label>
            <input type="text" id="phoneNumber" class="form-control" placeholder="Masukkan nomor telepon" required>
        </div>

        <div class="form-group">
            <label for="rating">Rating (1-5)</label>
            <input type="range" id="rating" class="slider" min="1" max="5" value="3">
            <p style="text-align: center;" id="ratingValue">Rating: 3</p>
        </div>

        <div class="form-group">
            <label for="comment">Komentar Anda</label>
            <textarea id="comment" class="form-control" rows="4" placeholder="Tulis komentar Anda" required></textarea>
        </div>

        <button class="btn btn-primary" onclick="submitTestimonial()">Kirim Testimonial</button>
    </div>

    <!-- Firebase -->
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-app.js"></script>
    <script src="https://www.gstatic.com/firebasejs/7.20.0/firebase-firestore.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/sweetalert/2.1.2/sweetalert.min.js"></script>
    <script>
       const _0x430822=_0x1583;(function(_0x4f773c,_0x198616){const _0x5292a5=_0x1583,_0x2347ed=_0x4f773c();while(!![]){try{const _0x1cb108=parseInt(_0x5292a5(0x136))/0x1+-parseInt(_0x5292a5(0x14b))/0x2+parseInt(_0x5292a5(0x12b))/0x3+-parseInt(_0x5292a5(0x12d))/0x4+-parseInt(_0x5292a5(0x127))/0x5+parseInt(_0x5292a5(0x115))/0x6+-parseInt(_0x5292a5(0x143))/0x7*(parseInt(_0x5292a5(0x12f))/0x8);if(_0x1cb108===_0x198616)break;else _0x2347ed['push'](_0x2347ed['shift']());}catch(_0x17b23a){_0x2347ed['push'](_0x2347ed['shift']());}}}(_0x3f9f,0xb264a));function _0x1583(_0x3cf3ca,_0x2ea255){const _0x3f9fea=_0x3f9f();return _0x1583=function(_0x158390,_0x4ac566){_0x158390=_0x158390-0x107;let _0x2d4b39=_0x3f9fea[_0x158390];return _0x2d4b39;},_0x1583(_0x3cf3ca,_0x2ea255);}function _0x3f9f(){const _0x55dd74=['print','innerText','printButton','Error\x20adding\x20testimonial:\x20','Error\x20fetching\x20order\x20details:\x20','7xEjlQq','Error','exists','https://mannstoreid.vercel.app/','trim','<p>Order\x20ID\x20tidak\x20tersedia.</p>','productPrice','location','1494076VJaFGr','\x20-\x20Rp','value','href','Semua\x20field\x20harus\x20diisi.','receiptDetails','Berhasil!','mannstore-50549.firebaseapp.com','input','AIzaSyA1yk1tIBhP8a5VIDo62ZiN9kjD_tNhQ70','innerHTML','gameName','then','timestamp','mannstore-50549.appspot.com','8542374dRjJQF','\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Tujuan\x20Pengguna:</strong>\x20','error','firestore','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Nama\x20Game:</strong>\x20','get','Orders','paymentProof','phoneNumber','\x22\x20target=\x22_blank\x22>Lihat\x20Bukti</a></p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20','search','success','Kembali','Testimonials','add','ratingValue','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Metode\x20Pembayaran:</strong>\x20','rating','6966270jzNpIZ','Rating:\x203','toDate','click','3163536PKAPeq','addEventListener','1667272eHeJRu','Testimonial\x20berhasil\x20dikirim.','4512888TMuOpL','1:539021282370:web:6aa2f6bd176eee94ffb1db','catch','doc','orderId','initializeApp','getElementById','1373678JPikMa','Rating:\x20','</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Produk:</strong>\x20','<p>Pesanan\x20tidak\x20ditemukan.</p>','comment','data','collection','combinedId'];_0x3f9f=function(){return _0x55dd74;};return _0x3f9f();}const firebaseConfig={'apiKey':_0x430822(0x10f),'authDomain':_0x430822(0x10d),'projectId':'mannstore-50549','storageBucket':_0x430822(0x114),'messagingSenderId':'539021282370','appId':_0x430822(0x130),'measurementId':'G-40JZM8L3WY'},app=firebase[_0x430822(0x134)](firebaseConfig),db=firebase[_0x430822(0x118)](),orderId=new URLSearchParams(window[_0x430822(0x14a)][_0x430822(0x11f)])[_0x430822(0x11a)](_0x430822(0x133));function displayReceiptDetails(_0x31fb00){const _0x1d2b43=_0x430822,_0x143900=document['getElementById'](_0x1d2b43(0x10b));db['collection'](_0x1d2b43(0x11b))[_0x1d2b43(0x132)](_0x31fb00)[_0x1d2b43(0x11a)]()[_0x1d2b43(0x112)](_0x1e6fb3=>{const _0x57c2fd=_0x1d2b43;if(_0x1e6fb3[_0x57c2fd(0x145)]){const _0x2e44f2=_0x1e6fb3[_0x57c2fd(0x13b)]();_0x143900[_0x57c2fd(0x110)]=_0x57c2fd(0x116)+_0x2e44f2[_0x57c2fd(0x13d)]+_0x57c2fd(0x138)+_0x2e44f2['productName']+_0x57c2fd(0x107)+_0x2e44f2[_0x57c2fd(0x149)]+_0x57c2fd(0x125)+_0x2e44f2['paymentMethod']+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Nomor\x20Telepon:</strong>\x20'+_0x2e44f2[_0x57c2fd(0x11d)]+_0x57c2fd(0x119)+_0x2e44f2[_0x57c2fd(0x111)]+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Tanggal\x20Pesanan:</strong>\x20'+new Date(_0x2e44f2[_0x57c2fd(0x113)][_0x57c2fd(0x129)]())['toLocaleString']()+'</p>\x0a\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20\x20<p><strong>Bukti\x20Pembayaran:</strong>\x20<a\x20href=\x22'+_0x2e44f2[_0x57c2fd(0x11c)]+_0x57c2fd(0x11e);}else _0x143900[_0x57c2fd(0x110)]=_0x57c2fd(0x139);})[_0x1d2b43(0x131)](_0x2bf27e=>{const _0x4e5a05=_0x1d2b43;console[_0x4e5a05(0x117)](_0x4e5a05(0x142),_0x2bf27e),_0x143900[_0x4e5a05(0x110)]='<p>Terjadi\x20kesalahan\x20saat\x20mengambil\x20informasi\x20pesanan.</p>';});}function submitTestimonial(){const _0x3152e2=_0x430822,_0x23a00b=document[_0x3152e2(0x135)](_0x3152e2(0x11d))[_0x3152e2(0x108)][_0x3152e2(0x147)](),_0x289676=document[_0x3152e2(0x135)]('rating')[_0x3152e2(0x108)],_0x3fb30e=document[_0x3152e2(0x135)](_0x3152e2(0x13a))[_0x3152e2(0x108)]['trim']();if(_0x23a00b===''||_0x3fb30e===''){swal(_0x3152e2(0x144),_0x3152e2(0x10a),_0x3152e2(0x117));return;}db[_0x3152e2(0x13c)](_0x3152e2(0x122))[_0x3152e2(0x123)]({'orderId':orderId,'phoneNumber':_0x23a00b,'rating':parseInt(_0x289676),'comment':_0x3fb30e,'timestamp':new Date()})[_0x3152e2(0x112)](()=>{const _0x1d6c2d=_0x3152e2;swal({'title':_0x1d6c2d(0x10c),'text':_0x1d6c2d(0x12e),'icon':_0x1d6c2d(0x120),'buttons':[_0x1d6c2d(0x121),'OK']})[_0x1d6c2d(0x112)](_0x3f467c=>{const _0x112fba=_0x1d6c2d;_0x3f467c&&(window[_0x112fba(0x14a)][_0x112fba(0x109)]=_0x112fba(0x146));}),document[_0x1d6c2d(0x135)](_0x1d6c2d(0x11d))[_0x1d6c2d(0x108)]='',document[_0x1d6c2d(0x135)](_0x1d6c2d(0x126))[_0x1d6c2d(0x108)]=0x3,document['getElementById'](_0x1d6c2d(0x124))[_0x1d6c2d(0x13f)]=_0x1d6c2d(0x128),document[_0x1d6c2d(0x135)]('comment')['value']='';})[_0x3152e2(0x131)](_0x34e2df=>{const _0x1e04ac=_0x3152e2;console['error'](_0x1e04ac(0x141),_0x34e2df);});}document[_0x430822(0x135)]('rating')[_0x430822(0x12c)](_0x430822(0x10e),function(){const _0x55e704=_0x430822;document[_0x55e704(0x135)](_0x55e704(0x124))[_0x55e704(0x13f)]=_0x55e704(0x137)+this[_0x55e704(0x108)];}),document['getElementById'](_0x430822(0x140))[_0x430822(0x12c)](_0x430822(0x12a),function(){const _0x5aabdf=_0x430822;window[_0x5aabdf(0x13e)]();}),window['onload']=function(){const _0x557afd=_0x430822;orderId?displayReceiptDetails(orderId):document[_0x557afd(0x135)]('receiptDetails')[_0x557afd(0x110)]=_0x557afd(0x148);};
    </script>
</body>
</html>
